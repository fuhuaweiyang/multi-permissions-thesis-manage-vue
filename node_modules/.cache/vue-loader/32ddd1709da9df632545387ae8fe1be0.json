{"remainingRequest":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\src\\views\\teacher\\StudentInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\src\\views\\teacher\\StudentInfo.vue","mtime":1746578316605},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1711182482575},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711182506214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB0Y2xhc3NtYW5hZ2VtdCwgZGVsZXRlU3R1ZGVudCB9IGZyb20gIi4uLy4uL2FwaS90ZWFjaGVyL3RlYWNoZXJjbGFzcy5qcyI7DQoNCmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiU3R1ZGVudEluZm8iLA0KDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIC8vIOaWsOWinuW5v+aSreebuOWFs+aVsOaNrg0KICAgICAgICAgICAgZGlhbG9nQnJvYWRjYXN0VmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBicm9hZGNhc3RGb3JtOiB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICcnLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnLA0KICAgICAgICAgICAgICAgIGNsYXNzSWQ6ICcnLA0KICAgICAgICAgICAgICAgIGNyZWF0b3I6ICcnDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICAvLyDljp/mnInmlbDmja4NCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIHBhZ2luYXRpb246IHsNCiAgICAgICAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgICAgICAgIHRvdGFsOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgaGlzdG9yeVJlY29yZHM6IFtdLA0KICAgICAgICAgICAgcGFnZTogew0KICAgICAgICAgICAgICAgIHBhZ2U6IDEsDQogICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICAgICAgICAgIHVzZXJJZDogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmb3JtOiB7DQogICAgICAgICAgICAgICAgdXNlck5hbWU6ICcnLA0KICAgICAgICAgICAgICAgIGFjY291bnQ6ICcnLA0KICAgICAgICAgICAgICAgIHBob25lOiAnJywNCiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICcnLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnLA0KICAgICAgICAgICAgcGFyYW06IHsNCiAgICAgICAgICAgICAgICB1c2VySWQ6ICcnLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNsYXNzSWRMaXN0OiBbXQ0KICAgICAgICB9DQogICAgfSwNCg0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMucGFnZS51c2VySWQgPSBDb29raWVzLmdldCgndXNlcklkJykNCiAgICAgICAgdGhpcy5saXN0QWxsQ2xhc3ModGhpcy5wYWdlKQ0KICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjkyNTEvc3R1ZHkvY2xhc3MvZmluZExpc3RCeVVzZXJJZC8iICsgQ29va2llcy5nZXQoJ3VzZXJJZCcpKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIHRoaXMuY2xhc3NJZExpc3QgPSByZXNwb25zZS5kYXRhLnJlc3VsdERhdGENCiAgICAgICAgfSkNCiAgICB9LA0KDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyDmlrDlop7lub/mkq3mlrnms5UNCiAgICAgICAgYXN5bmMgaGFuZGxlQnJvYWRjYXN0KCkgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dCcm9hZGNhc3RWaXNpYmxlID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0Rm9ybSA9IHsgdGl0bGU6ICcnLCBjb250ZW50OiAnJyB9Ow0KICAgICAgICB9LA0KDQogICAgICAgIGFzeW5jIHNlbmRCcm9hZGNhc3QoKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMuYnJvYWRjYXN0Rm9ybS50aXRsZS50cmltKCkgfHwgIXRoaXMuYnJvYWRjYXN0Rm9ybS5jb250ZW50LnRyaW0oKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5qCH6aKY5ZKM5YaF5a655LiN6IO95Li656m6Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2JlZ2luJykNCiAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0Rm9ybS5jbGFzc0lkID0gdGhpcy5jbGFzc0lkTGlzdFswXQ0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5icm9hZGNhc3RGb3JtKQ0KICAgICAgICAgICAgdHJ5IHsNCg0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgNCiAgICAgICAgICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTI1MS9hcGkvc3R1ZHkva25vd2xlZGdlUG9pbnQvc2F2ZScsDQogICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0Rm9ybSwNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUgLy8g5YWB6K645Y+R6YCB5Yet6K+BDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpDQogICAgICAgICAgICAgICAgLy8gaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5bm/5pKt5Y+R6YCB5oiQ5YqfJyk7DQogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuZGlhbG9nQnJvYWRjYXN0VmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPkemAgeWksei0pTogJyArIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJycpKTsNCiAgICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPkemAgeWksei0pTonLCBlcnJvcik7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5bm/5pKt5Y+R6YCB5aSx6LSlJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8g5Y6f5pyJ5pa55rOV5L+d5oyB5LiN5Y+YDQogICAgICAgIGFzeW5jIGhhbmRsZVZpZXdQcm9ncmVzcyhyb3cpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgNCiAgICAgICAgICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTI1MS9hcGkvbW9kaWZpY2F0aW9uL2dldE1vZGlmaWNhdGlvbicsDQogICAgICAgICAgICAgICAgICAgIHsgc3R1SWQ6IHJvdy51c2VySWQsIHBhZ2U6IDEsIHBhZ2VTaXplOiAxMCB9LA0KICAgICAgICAgICAgICAgICAgICB7IGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0NCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeVJlY29yZHMgPSByZXNwb25zZS5kYXRhIHx8IFtdOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaGlzdG9yeVJlY29yZHMpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfor7fmsYLlvILluLg6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aVsOaNruWKoOi9veWksei0pScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIGhhbmRsZUhpc3RvcnlDbGljayhyZWNvcmQpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfngrnlh7vkuoborrDlvZXvvJonLCByZWNvcmQpOw0KICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5oaXN0b3J5UmVjb3Jkcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSByZWNvcmQuaWQpOw0KDQogICAgICAgICAgICAvLyDorqHnrpfliY3kuIDkuKrlhYPntKDnmoTntKLlvJUNCiAgICAgICAgICAgIGNvbnN0IHByZXZJZHggPSBpZHggPiAwID8gaWR4IC0gMSA6IC0xOw0KDQogICAgICAgICAgICAvLyDlrZjlnKjliY3kuIDkuKrlhYPntKDvvIzliJnlj5blh7rlubbkv53lrZgNCiAgICAgICAgICAgIGNvbnN0IHByZXZSb3cgPSB0aGlzLmhpc3RvcnlSZWNvcmRzW3ByZXZJZHhdOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+WJjeS4gOS4quWFg+e0oO+8micsIHByZXZSb3cpOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZNb2RpZmljYXRpb24nLCBKU09OLnN0cmluZ2lmeShwcmV2Um93KSk7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kaWZpY2F0aW9uJywgSlNPTi5zdHJpbmdpZnkocmVjb3JkKSk7DQogICAgICAgICAgICAvLyDot7PovazliLDlr7nmr5TpobXpnaINCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgICAgICBuYW1lOiAnTW9kaWZpY2F0aW9uQ29tcGFyZScsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkb2NJZCcsIHJlY29yZC5kb2NJZCk7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kaWZpY2F0aW9uSWQnLCByZWNvcmQuaWQpOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnRGV0YWlsJywgcXVlcnk6IHsgdHlwZTogIuivlemimCIgfSB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgew0KICAgICAgICAgICAgdGhpcy5wYXJhbS51c2VySWQgPSByb3cudXNlcklkDQogICAgICAgICAgICBkZWxldGVTdHVkZW50KHRoaXMucGFyYW0pLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+enu+mZpOWtpueUn+aIkOWKnycpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RBbGxDbGFzcyh0aGlzLnBhZ2UpDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign56e76Zmk5a2m55Sf5aSx6LSlJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCg0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZS5wYWdlU2l6ZSA9IHNpemU7DQogICAgICAgICAgICB0aGlzLmxpc3RBbGxDbGFzcyh0aGlzLnBhZ2UpDQogICAgICAgIH0sDQoNCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTnVtKSB7DQogICAgICAgICAgICB0aGlzLnBhZ2UucGFnZSA9IHBhZ2VOdW07DQogICAgICAgICAgICB0aGlzLmxpc3RBbGxDbGFzcyh0aGlzLnBhZ2UpDQogICAgICAgIH0sDQoNCiAgICAgICAgbGlzdEFsbENsYXNzKHBhZ2UpIHsNCiAgICAgICAgICAgIHRjbGFzc21hbmFnZW10KHBhZ2UpLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwLmRhdGEucmVzdWx0RGF0YS5kYXRhDQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["StudentInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentInfo.vue","sourceRoot":"src/views/teacher","sourcesContent":["<template>\r\n    <div>\r\n        <!-- 修改后的广播按钮 -->\r\n        <el-button type=\"primary\" plain @click=\"handleBroadcast\">向全班广播消息</el-button>\r\n\r\n        <!-- 新增广播弹窗 -->\r\n        <el-dialog title=\"班级广播\" :visible.sync=\"dialogBroadcastVisible\" width=\"30%\">\r\n            <el-form :model=\"broadcastForm\" label-width=\"80px\">\r\n                <el-form-item label=\"标题\">\r\n                    <el-input v-model=\"broadcastForm.title\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"内容\">\r\n                    <el-input type=\"textarea\" :rows=\"4\" v-model=\"broadcastForm.content\" placeholder=\"请输入广播内容\">\r\n                    </el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogBroadcastVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"sendBroadcast\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 原有表格 -->\r\n        <el-table :data=\"tableData\" :default-sort=\"{ prop: 'date', order: 'descending' }\" style=\"width: 100%\">\r\n            <el-table-column sortable prop=\"account\" label=\"账号\" width=\"180\"></el-table-column>\r\n            <el-table-column prop=\"userName\" label=\"姓名\" width=\"180\"></el-table-column>\r\n            <el-table-column prop=\"phone\" label=\"学生电话\"></el-table-column>\r\n            <el-table-column prop=\"sexName\" label=\"性别\"></el-table-column>\r\n            <el-table-column label=\"操作\" width=\"260\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" @click=\"handleViewProgress(scope.row)\">查看论文进度</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页组件 -->\r\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page.page\"\r\n            :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"page.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"tableData.length\">\r\n        </el-pagination>\r\n\r\n        <!-- 历史记录弹窗 -->\r\n        <el-dialog title=\"论文修改历史\" :visible.sync=\"dialogVisible\" width=\"60%\">\r\n            <el-table :data=\"historyRecords\" @row-click=\"handleHistoryClick\" style=\"cursor: pointer\">\r\n                <el-table-column prop=\"modificationTime\" label=\"修改时间\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"docId\" label=\"论文Id\"></el-table-column>\r\n                <el-table-column prop=\"docId\" label=\"论文Id\"></el-table-column>\r\n                <el-table-column prop=\"modificationWhat\" label=\"修改标题\" width=\"120\"></el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { tclassmanagemt, deleteStudent } from \"../../api/teacher/teacherclass.js\";\r\n\r\nimport Cookies from 'js-cookie'\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: \"StudentInfo\",\r\n\r\n    data() {\r\n        return {\r\n            // 新增广播相关数据\r\n            dialogBroadcastVisible: false,\r\n            broadcastForm: {\r\n                title: '',\r\n                content: '',\r\n                classId: '',\r\n                creator: ''\r\n            },\r\n\r\n            // 原有数据\r\n            tableData: [],\r\n            dialogVisible: false,\r\n            pagination: {\r\n                page: 1,\r\n                total: 0\r\n            },\r\n            historyRecords: [],\r\n            page: {\r\n                page: 1,\r\n                pageSize: 10,\r\n                userId: ''\r\n            },\r\n            form: {\r\n                userName: '',\r\n                account: '',\r\n                phone: '',\r\n                className: '',\r\n            },\r\n            formLabelWidth: '120px',\r\n            param: {\r\n                userId: '',\r\n            },\r\n            classIdList: []\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.page.userId = Cookies.get('userId')\r\n        this.listAllClass(this.page)\r\n        axios.post(\"http://localhost:9251/study/class/findListByUserId/\" + Cookies.get('userId')).then(response => {\r\n            this.classIdList = response.data.resultData\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        // 新增广播方法\r\n        async handleBroadcast() {\r\n            this.dialogBroadcastVisible = true;\r\n            this.broadcastForm = { title: '', content: '' };\r\n        },\r\n\r\n        async sendBroadcast() {\r\n            if (!this.broadcastForm.title.trim() || !this.broadcastForm.content.trim()) {\r\n                this.$message.warning('标题和内容不能为空');\r\n                return;\r\n            }\r\n            console.log('begin')\r\n            this.broadcastForm.classId = this.classIdList[0]\r\n            console.log(this.broadcastForm)\r\n            try {\r\n\r\n                const response = await axios.post(\r\n                    'http://localhost:9251/api/study/knowledgePoint/save',\r\n                    this.broadcastForm,\r\n                    {\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        withCredentials: true // 允许发送凭证\r\n                    }\r\n                )\r\n                console.log(response)\r\n                // if (response.data.code === 200) {\r\n                //     this.$message.success('广播发送成功');\r\n                //     this.dialogBroadcastVisible = false;\r\n                // } else {\r\n                //     this.$message.error('发送失败: ' + (response.data.message || ''));\r\n                // }\r\n            } catch (error) {\r\n                console.error('发送失败:', error);\r\n                this.$message.error('广播发送失败');\r\n            }\r\n        },\r\n\r\n        // 原有方法保持不变\r\n        async handleViewProgress(row) {\r\n            this.dialogVisible = true;\r\n            try {\r\n                const response = await axios.post(\r\n                    'http://localhost:9251/api/modification/getModification',\r\n                    { stuId: row.userId, page: 1, pageSize: 10 },\r\n                    { headers: { 'Content-Type': 'application/json' } }\r\n                );\r\n                this.historyRecords = response.data || [];\r\n                console.log(this.historyRecords);\r\n            } catch (error) {\r\n                console.error('请求异常:', error);\r\n                this.$message.error('数据加载失败');\r\n            }\r\n        },\r\n\r\n        handleHistoryClick(record) {\r\n            console.log('点击了记录：', record);\r\n            const idx = this.historyRecords.findIndex(item => item.id === record.id);\r\n\r\n            // 计算前一个元素的索引\r\n            const prevIdx = idx > 0 ? idx - 1 : -1;\r\n\r\n            // 存在前一个元素，则取出并保存\r\n            const prevRow = this.historyRecords[prevIdx];\r\n            console.log('前一个元素：', prevRow);\r\n            localStorage.setItem('prevModification', JSON.stringify(prevRow));\r\n            localStorage.setItem('modification', JSON.stringify(record));\r\n            // 跳转到对比页面\r\n            this.$router.push({\r\n                name: 'ModificationCompare',\r\n            });\r\n            localStorage.setItem('docId', record.docId);\r\n            localStorage.setItem('modificationId', record.id);\r\n            this.$router.push({ name: 'Detail', query: { type: \"试题\" } });\r\n        },\r\n\r\n        handleDelete(index, row) {\r\n            this.param.userId = row.userId\r\n            deleteStudent(this.param).then(resp => {\r\n                if (resp.data.code == 200) {\r\n                    this.$message.success('移除学生成功');\r\n                    this.listAllClass(this.page)\r\n                } else {\r\n                    this.$message.error('移除学生失败');\r\n                }\r\n            })\r\n        },\r\n\r\n        handleSizeChange(size) {\r\n            this.page.pageSize = size;\r\n            this.listAllClass(this.page)\r\n        },\r\n\r\n        handleCurrentChange(pageNum) {\r\n            this.page.page = pageNum;\r\n            this.listAllClass(this.page)\r\n        },\r\n\r\n        listAllClass(page) {\r\n            tclassmanagemt(page).then(resp => {\r\n                this.tableData = resp.data.resultData.data\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-table--enable-row-hover .el-table__body tr:hover>td {\r\n    background-color: #f5f7fa;\r\n}\r\n\r\n/* 其他样式保持不变 */\r\n</style>"]}]}