{"remainingRequest":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\src\\views\\studentInfo\\StudentInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\src\\views\\studentInfo\\StudentInfo.vue","mtime":1744203759373},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1711182482575},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711182506214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB0Y2xhc3NtYW5hZ2VtdCwgZGVsZXRlU3R1ZGVudCB9IGZyb20gIi4uLy4uL2FwaS90ZWFjaGVyL3RlYWNoZXJjbGFzcy5qcyI7DQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIlN0dWRlbnRJbmZvIiwNCg0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAvLyDljp/mnInmlbDmja7kv53mjIHkuI3lj5gNCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIHBhZ2luYXRpb246IHsgICAgICAgICAvLyDliIbpobXlr7nosaENCiAgICAgICAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgICAgICAgIHRvdGFsOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgaGlzdG9yeVJlY29yZHM6IFsgLy8g56S65L6L5pWw5o2uDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbW9kaWZpY2F0aW9uVGltZTogJycsDQogICAgICAgICAgICAgICAgZG9jSWQ6ICcnLA0KICAgICAgICAgICAgICAgIG1vZGlmaWNhdGlvbldoYXQ6ICcnLA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIC8vIOWFtuS7luWOn+acieaVsOaNri4uLg0KICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgIHBhZ2U6IHsNCiAgICAgICAgICAgICAgICBwYWdlOiAxLCAvL+WIneWni+mhtQ0KICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMCwgICAgLy8gICAg5q+P6aG155qE5pWw5o2uDQogICAgICAgICAgICAgICAgdXNlcklkOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvcm06IHsNCiAgICAgICAgICAgICAgICB1c2VyTmFtZTogJycsDQogICAgICAgICAgICAgICAgYWNjb3VudDogJycsDQogICAgICAgICAgICAgICAgcGhvbmU6ICcnLA0KICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJycsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcsDQogICAgICAgICAgICBwYXJhbTogew0KICAgICAgICAgICAgICAgIHVzZXJJZDogJycsDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMucGFnZS51c2VySWQgPSBDb29raWVzLmdldCgndXNlcklkJykNCiAgICAgICAgdGhpcy5saXN0QWxsQ2xhc3ModGhpcy5wYWdlKQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBhc3luYyBoYW5kbGVWaWV3UHJvZ3Jlc3Mocm93KSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KDQogICAgICAgICAgICBjb25zb2xlLmxvZyhyb3cpDQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgNCiAgICAgICAgICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTI1MS9hcGkvbW9kaWZpY2F0aW9uL2dldE1vZGlmaWNhdGlvbicsDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0dUlkOiByb3cudXNlcklkLCAgLy9yb3cudXNlcmlkDQogICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnlSZWNvcmRzID0gcmVzcG9uc2UuZGF0YSB8fCBbXTsNCiAgICAgICAgICAgIC8vICAgICBoaXN0b3J5UmVjb3JkczogWyAvLyDnpLrkvovmlbDmja4NCiAgICAgICAgICAgIC8vICAgICB7DQogICAgICAgICAgICAvLyAgICAgICAgIGRhdGU6ICcyMDIzLTA3LTIwJywNCiAgICAgICAgICAgIC8vICAgICAgICAgdmVyc2lvbjogJ3YyLjEnLA0KICAgICAgICAgICAgLy8gICAgICAgICBzdGF0dXM6ICflt7LpgJrov4cnLA0KICAgICAgICAgICAgLy8gICAgICAgICByZXZpZXdlcjogJ+eOi+aVmeaOiCcsDQogICAgICAgICAgICAvLyAgICAgICAgIHBhcGVySWQ6ICcxMjMnDQogICAgICAgICAgICAvLyAgICAgfSwNCiAgICAgICAgICAgIC8vICAgICB7DQogICAgICAgICAgICAvLyAgICAgICAgIGRhdGU6ICcyMDIzLTA3LTE4JywNCiAgICAgICAgICAgIC8vICAgICAgICAgdmVyc2lvbjogJ3YyLjAnLA0KICAgICAgICAgICAgLy8gICAgICAgICBzdGF0dXM6ICfpnIDkv67mlLknLA0KICAgICAgICAgICAgLy8gICAgICAgICByZXZpZXdlcjogJ+adjuaVmeaOiCcsDQogICAgICAgICAgICAvLyAgICAgICAgIHBhcGVySWQ6ICcxMjMnDQogICAgICAgICAgICAvLyAgICAgfQ0KICAgICAgICAgICAgLy8gXSwNCiAgICAgICAgICAgICAgICAvLyB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXNwb25zZS5kYXRhLmRhdGEudG90YWwgfHwgMDsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign6K+35rGC5byC5bi4OicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlbDmja7liqDovb3lpLHotKUnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICBoYW5kbGVIaXN0b3J5Q2xpY2socmVjb3JkKSB7DQogICAgICAgICAgICAvLyDot7PovazliLDorrrmlofor6bmg4XpobUNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfngrnlh7vkuoborrDlvZXvvJonLCByZWNvcmQpOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RvY01vZGlmaWNhdGlvbnJlY29yZCcsIEpTT04uc3RyaW5naWZ5KHJlY29yZCkpOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RvY0lkJywgcmVjb3JkLmRvY0lkKTsNCiAgICAgICAgICAgIGNvbnN0IHNhdmVkUmVjb3JkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZG9jTW9kaWZpY2F0aW9ucmVjb3JkJykpOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICAgIG5hbWU6ICdEZXRhaWwnLA0KICAgICAgICAgICAgICAgIHF1ZXJ5OiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICLor5XpopgiDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkYXRhMTogJ3Rlc3QnDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgew0KICAgICAgICAgICAgdGhpcy5wYXJhbS51c2VySWQgPSByb3cudXNlcklkDQogICAgICAgICAgICBkZWxldGVTdHVkZW50KHRoaXMucGFyYW0pLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnp7vpmaTlrabnlJ/miJDlip8gJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZUVkaXQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdEFsbENsYXNzKHRoaXMucGFnZSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnp7vpmaTlrabnlJ/lpLHotKUnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZS5wYWdlU2l6ZSA9IHNpemU7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnBhZ2VTaXplLCc4ODgnKQ0KICAgICAgICAgICAgdGhpcy5saXN0QWxsQ2xhc3ModGhpcy5wYWdlKQ0KICAgICAgICAgICAgY29uc29sZS5sb2coYOavj+mhtSAke3NpemV9IOadoWApOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsNCiAgICAgICAgICAgIHRoaXMucGFnZS5wYWdlTnVtID0gcGFnZU51bTsNCiAgICAgICAgICAgIHRoaXMubGlzdEFsbENsYXNzKHRoaXMucGFnZSkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOw0KICAgICAgICB9LA0KDQogICAgICAgIGxpc3RBbGxDbGFzcyhwYWdlKSB7DQogICAgICAgICAgICB0Y2xhc3NtYW5hZ2VtdChwYWdlKS50aGVuKHJlc3AgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzcC5kYXRhLnJlc3VsdERhdGEuZGF0YQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5YW25LuW5Y6f5pyJ5pa55rOV5L+d5oyB5LiN5Y+YLi4uDQogICAgfSwNCiAgICAvLyDlhbbku5bljp/mnInku6PnoIEuLi4NCn0NCg=="},{"version":3,"sources":["StudentInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentInfo.vue","sourceRoot":"src/views/studentInfo","sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"tableData\" :default-sort=\"{ prop: 'date', order: 'descending' }\" style=\"width: 100%\">\r\n            <!-- 原有列保持不变 -->\r\n            <el-table-column sortable prop=\"account\" label=\"账号\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"userName\" label=\"姓名\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"phone\" label=\"学生电话\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"sexName\" label=\"性别\">\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"260\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" @click=\"handleViewProgress(scope.row)\"> 查看论文进度\r\n                    </el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页组件保持不变 -->\r\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page.page\"\r\n            :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"page.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"tableData.length\">\r\n        </el-pagination>\r\n\r\n        <!-- 历史记录弹窗 -->\r\n        <el-dialog title=\"论文修改历史\" :visible.sync=\"dialogVisible\" width=\"60%\">\r\n            <el-table :data=\"historyRecords\" @row-click=\"handleHistoryClick\" style=\"cursor: pointer\">\r\n                <el-table-column prop=\"modificationTime\" label=\"修改时间\" width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"docId\" label=\"论文Id\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"modificationWhat\" label=\"修改标题\" width=\"120\">\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { tclassmanagemt, deleteStudent } from \"../../api/teacher/teacherclass.js\";\r\nimport { mapState } from 'vuex'\r\nimport Cookies from 'js-cookie'\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: \"StudentInfo\",\r\n\r\n    data() {\r\n        return {\r\n            // 原有数据保持不变\r\n            tableData: [],\r\n            dialogVisible: false,\r\n            pagination: {         // 分页对象\r\n                page: 1,\r\n                total: 0\r\n            },\r\n            historyRecords: [ // 示例数据\r\n            {\r\n                modificationTime: '',\r\n                docId: '',\r\n                modificationWhat: '',\r\n            }\r\n            ],\r\n            // 其他原有数据...\r\n            tableData: [],\r\n            page: {\r\n                page: 1, //初始页\r\n                pageSize: 10,    //    每页的数据\r\n                userId: ''\r\n            },\r\n            form: {\r\n                userName: '',\r\n                account: '',\r\n                phone: '',\r\n                className: '',\r\n            },\r\n            formLabelWidth: '120px',\r\n            param: {\r\n                userId: '',\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.page.userId = Cookies.get('userId')\r\n        this.listAllClass(this.page)\r\n    },\r\n    methods: {\r\n        async handleViewProgress(row) {\r\n            this.dialogVisible = true;\r\n\r\n            console.log(row)\r\n            try {\r\n                const response = await axios.post(\r\n                    'http://localhost:9251/api/modification/getModification',\r\n                    {\r\n                        stuId: row.userId,  //row.userid\r\n                        page: 1,\r\n                        pageSize: 10\r\n                    },\r\n                    {\r\n                        headers: { 'Content-Type': 'application/json' }\r\n                    }\r\n                );\r\n                console.log(response);\r\n                this.historyRecords = response.data || [];\r\n            //     historyRecords: [ // 示例数据\r\n            //     {\r\n            //         date: '2023-07-20',\r\n            //         version: 'v2.1',\r\n            //         status: '已通过',\r\n            //         reviewer: '王教授',\r\n            //         paperId: '123'\r\n            //     },\r\n            //     {\r\n            //         date: '2023-07-18',\r\n            //         version: 'v2.0',\r\n            //         status: '需修改',\r\n            //         reviewer: '李教授',\r\n            //         paperId: '123'\r\n            //     }\r\n            // ],\r\n                // this.pagination.total = response.data.data.total || 0;\r\n            } catch (error) {\r\n                console.error('请求异常:', error);\r\n                this.$message.error('数据加载失败');\r\n            }\r\n        },\r\n\r\n        handleHistoryClick(record) {\r\n            // 跳转到论文详情页\r\n            console.log('点击了记录：', record);\r\n            localStorage.setItem('docModificationrecord', JSON.stringify(record));\r\n            localStorage.setItem('docId', record.docId);\r\n            const savedRecord = JSON.parse(localStorage.getItem('docModificationrecord'));\r\n            this.$router.push({\r\n                name: 'Detail',\r\n                query: {\r\n                    type: \"试题\"\r\n                },\r\n                data1: 'test'\r\n            })\r\n        },\r\n        handleDelete(index, row) {\r\n            this.param.userId = row.userId\r\n            deleteStudent(this.param).then(resp => {\r\n                if (resp.data.code == 200) {\r\n                    this.$message({\r\n                        message: '移除学生成功 ',\r\n                        type: 'success'\r\n                    });\r\n                    this.dialogFormVisibleEdit = true\r\n                    this.listAllClass(this.page)\r\n                } else {\r\n                    this.$message.error('移除学生失败');\r\n                }\r\n            })\r\n        },\r\n        handleSizeChange(size) {\r\n            this.page.pageSize = size;\r\n            // console.log(this.pageSize,'888')\r\n            this.listAllClass(this.page)\r\n            console.log(`每页 ${size} 条`);\r\n        },\r\n        handleCurrentChange(pageNum) {\r\n            this.page.pageNum = pageNum;\r\n            this.listAllClass(this.page)\r\n            console.log(`当前页: ${val}`);\r\n        },\r\n\r\n        listAllClass(page) {\r\n            tclassmanagemt(page).then(resp => {\r\n                this.tableData = resp.data.resultData.data\r\n                console.log(this.tableData)\r\n            })\r\n        },\r\n        // 其他原有方法保持不变...\r\n    },\r\n    // 其他原有代码...\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 新增样式 */\r\n.el-table--enable-row-hover .el-table__body tr:hover>td {\r\n    background-color: #f5f7fa;\r\n}\r\n\r\n/* 原有样式保持不变 */\r\n</style>"]}]}