{"remainingRequest":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\src\\views\\studentInfo\\StudentInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\src\\views\\studentInfo\\StudentInfo.vue","mtime":1743881638757},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1711182482575},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711182484313},{"path":"C:\\Users\\18133\\Desktop\\在线学习系统\\源码\\OnlineLearnVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711182506214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB0Y2xhc3NtYW5hZ2VtdCwgZGVsZXRlU3R1ZGVudCB9IGZyb20gIi4uLy4uL2FwaS90ZWFjaGVyL3RlYWNoZXJjbGFzcy5qcyI7DQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiU3R1ZGVudEluZm8iLA0KDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIC8vIOWOn+acieaVsOaNruS/neaMgeS4jeWPmA0KICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgICAgICAgaGlzdG9yeVJlY29yZHM6IFsgLy8g56S65L6L5pWw5o2uDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBkYXRlOiAnMjAyMy0wNy0yMCcsDQogICAgICAgICAgICAgICAgICAgIHZlcnNpb246ICd2Mi4xJywNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAn5bey6YCa6L+HJywNCiAgICAgICAgICAgICAgICAgICAgcmV2aWV3ZXI6ICfnjovmlZnmjognLA0KICAgICAgICAgICAgICAgICAgICBwYXBlcklkOiAnMTIzJw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBkYXRlOiAnMjAyMy0wNy0xOCcsDQogICAgICAgICAgICAgICAgICAgIHZlcnNpb246ICd2Mi4wJywNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAn6ZyA5L+u5pS5JywNCiAgICAgICAgICAgICAgICAgICAgcmV2aWV3ZXI6ICfmnY7mlZnmjognLA0KICAgICAgICAgICAgICAgICAgICBwYXBlcklkOiAnMTIzJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAvLyDlhbbku5bljp/mnInmlbDmja4uLi4NCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgICBwYWdlOiB7DQogICAgICAgICAgICAgICAgcGFnZTogMSwgLy/liJ3lp4vpobUNCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogMTAsICAgIC8vICAgIOavj+mhteeahOaVsOaNrg0KICAgICAgICAgICAgICAgIHVzZXJJZDogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmb3JtOiB7DQogICAgICAgICAgICAgICAgdXNlck5hbWU6ICcnLA0KICAgICAgICAgICAgICAgIGFjY291bnQ6ICcnLA0KICAgICAgICAgICAgICAgIHBob25lOiAnJywNCiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICcnLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnLA0KICAgICAgICAgICAgcGFyYW06IHsNCiAgICAgICAgICAgICAgICB1c2VySWQ6ICcnLA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLnBhZ2UudXNlcklkID0gQ29va2llcy5nZXQoJ3VzZXJJZCcpDQogICAgICAgIHRoaXMubGlzdEFsbENsYXNzKHRoaXMucGFnZSkNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgaGFuZGxlVmlld1Byb2dyZXNzKHJvdykgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICAgICAgICAgIC8vIOi/memHjOW6lOivpeiwg+eUqOaOpeWPo+iOt+WPluivpeWtpueUn+eahOiuuuaWh+S/ruaUueWOhuWPsg0KICAgICAgICAgICAgLy8g56S65L6L77yaDQogICAgICAgICAgICAvLyBnZXRQYXBlckhpc3Rvcnkocm93LnVzZXJJZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgLy8gICAgIHRoaXMuaGlzdG9yeVJlY29yZHMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIC8vIH0pDQogICAgICAgIH0sDQoNCiAgICAgICAgaGFuZGxlSGlzdG9yeUNsaWNrKHJlY29yZCkgew0KICAgICAgICAgICAgLy8g6Lez6L2s5Yiw6K665paH6K+m5oOF6aG177yM5YGH6K6+6Lev55Sx5Li6L3BhcGVyLWRldGFpbC86aWQNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgICAgICBwYXRoOiBgL3BhcGVyLWRldGFpbC8ke3JlY29yZC5wYXBlcklkfWAsDQogICAgICAgICAgICAgICAgcXVlcnk6IHsgdmVyc2lvbjogcmVjb3JkLnZlcnNpb24gfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7DQogICAgICAgICAgICB0aGlzLnBhcmFtLnVzZXJJZCA9IHJvdy51c2VySWQNCiAgICAgICAgICAgIGRlbGV0ZVN0dWRlbnQodGhpcy5wYXJhbSkudGhlbihyZXNwID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+enu+mZpOWtpueUn+aIkOWKnyAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlRWRpdCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0QWxsQ2xhc3ModGhpcy5wYWdlKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+enu+mZpOWtpueUn+Wksei0pScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVNpemVDaGFuZ2Uoc2l6ZSkgew0KICAgICAgICAgICAgdGhpcy5wYWdlLnBhZ2VTaXplID0gc2l6ZTsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGFnZVNpemUsJzg4OCcpDQogICAgICAgICAgICB0aGlzLmxpc3RBbGxDbGFzcyh0aGlzLnBhZ2UpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7c2l6ZX0g5p2hYCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgew0KICAgICAgICAgICAgdGhpcy5wYWdlLnBhZ2VOdW0gPSBwYWdlTnVtOw0KICAgICAgICAgICAgdGhpcy5saXN0QWxsQ2xhc3ModGhpcy5wYWdlKQ0KICAgICAgICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgbGlzdEFsbENsYXNzKHBhZ2UpIHsNCiAgICAgICAgICAgIHRjbGFzc21hbmFnZW10KHBhZ2UpLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwLmRhdGEucmVzdWx0RGF0YS5kYXRhDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50YWJsZURhdGEpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlhbbku5bljp/mnInmlrnms5Xkv53mjIHkuI3lj5guLi4NCiAgICB9LA0KICAgIC8vIOWFtuS7luWOn+acieS7o+eggS4uLg0KfQ0K"},{"version":3,"sources":["StudentInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentInfo.vue","sourceRoot":"src/views/studentInfo","sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"tableData\" :default-sort=\"{ prop: 'date', order: 'descending' }\" style=\"width: 100%\">\r\n            <!-- 原有列保持不变 -->\r\n            <el-table-column sortable prop=\"account\" label=\"账号\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"userName\" label=\"姓名\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"phone\" label=\"学生电话\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"sexName\" label=\"性别\">\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"260\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" @click=\"handleViewProgress(scope.row)\"> 查看论文进度\r\n                    </el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页组件保持不变 -->\r\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page.page\"\r\n            :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"page.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"tableData.length\">\r\n        </el-pagination>\r\n\r\n        <!-- 历史记录弹窗 -->\r\n        <el-dialog title=\"论文修改历史\" :visible.sync=\"dialogVisible\" width=\"60%\">\r\n            <el-table :data=\"historyRecords\" @row-click=\"handleHistoryClick\" style=\"cursor: pointer\">\r\n                <el-table-column prop=\"date\" label=\"修改时间\" width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"version\" label=\"版本号\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"status\" label=\"当前状态\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"reviewer\" label=\"审核人\">\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { tclassmanagemt, deleteStudent } from \"../../api/teacher/teacherclass.js\";\r\nimport { mapState } from 'vuex'\r\nimport Cookies from 'js-cookie'\r\n\r\nexport default {\r\n    name: \"StudentInfo\",\r\n\r\n    data() {\r\n        return {\r\n            // 原有数据保持不变\r\n            tableData: [],\r\n            dialogVisible: false,\r\n            historyRecords: [ // 示例数据\r\n                {\r\n                    date: '2023-07-20',\r\n                    version: 'v2.1',\r\n                    status: '已通过',\r\n                    reviewer: '王教授',\r\n                    paperId: '123'\r\n                },\r\n                {\r\n                    date: '2023-07-18',\r\n                    version: 'v2.0',\r\n                    status: '需修改',\r\n                    reviewer: '李教授',\r\n                    paperId: '123'\r\n                }\r\n            ],\r\n            // 其他原有数据...\r\n            tableData: [],\r\n            page: {\r\n                page: 1, //初始页\r\n                pageSize: 10,    //    每页的数据\r\n                userId: ''\r\n            },\r\n            form: {\r\n                userName: '',\r\n                account: '',\r\n                phone: '',\r\n                className: '',\r\n            },\r\n            formLabelWidth: '120px',\r\n            param: {\r\n                userId: '',\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.page.userId = Cookies.get('userId')\r\n        this.listAllClass(this.page)\r\n    },\r\n    methods: {\r\n        handleViewProgress(row) {\r\n            this.dialogVisible = true;\r\n            // 这里应该调用接口获取该学生的论文修改历史\r\n            // 示例：\r\n            // getPaperHistory(row.userId).then(res => {\r\n            //     this.historyRecords = res.data;\r\n            // })\r\n        },\r\n\r\n        handleHistoryClick(record) {\r\n            // 跳转到论文详情页，假设路由为/paper-detail/:id\r\n            this.$router.push({\r\n                path: `/paper-detail/${record.paperId}`,\r\n                query: { version: record.version }\r\n            });\r\n        },\r\n        handleDelete(index, row) {\r\n            this.param.userId = row.userId\r\n            deleteStudent(this.param).then(resp => {\r\n                if (resp.data.code == 200) {\r\n                    this.$message({\r\n                        message: '移除学生成功 ',\r\n                        type: 'success'\r\n                    });\r\n                    this.dialogFormVisibleEdit = true\r\n                    this.listAllClass(this.page)\r\n                } else {\r\n                    this.$message.error('移除学生失败');\r\n                }\r\n            })\r\n        },\r\n        handleSizeChange(size) {\r\n            this.page.pageSize = size;\r\n            // console.log(this.pageSize,'888')\r\n            this.listAllClass(this.page)\r\n            console.log(`每页 ${size} 条`);\r\n        },\r\n        handleCurrentChange(pageNum) {\r\n            this.page.pageNum = pageNum;\r\n            this.listAllClass(this.page)\r\n            console.log(`当前页: ${val}`);\r\n        },\r\n\r\n        listAllClass(page) {\r\n            tclassmanagemt(page).then(resp => {\r\n                this.tableData = resp.data.resultData.data\r\n                console.log(this.tableData)\r\n            })\r\n        },\r\n        // 其他原有方法保持不变...\r\n    },\r\n    // 其他原有代码...\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 新增样式 */\r\n.el-table--enable-row-hover .el-table__body tr:hover>td {\r\n    background-color: #f5f7fa;\r\n}\r\n\r\n/* 原有样式保持不变 */\r\n</style>"]}]}